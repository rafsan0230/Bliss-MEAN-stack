<div class="container">
    <div class="message-container" #scrollMe>
      <div class="message" *ngFor="let message of messages" [class.user-message]="message.user" [class.system-message]="!message.user">
        <div class="bubble">{{message.content}}</div>
      </div>
    </div>
    <div class="input-container">
      <app-form-field *ngIf="step === 0" type="select" [control]="form.controls.gender" (nextStepEvent)="handleNewInfo($event)" [selectOptions]="genderOptions"></app-form-field>
      <app-form-field *ngIf="step === 1" type="select" [control]="form.controls.age" (nextStepEvent)="handleNewInfo($event)" [selectOptions]="ageOptions"></app-form-field>
      <app-form-field *ngIf="step === 2" type="select" [control]="form.controls.relationStatus" (nextStepEvent)="handleNewInfo($event)" [selectOptions]="relationStatusoption"></app-form-field>
      <app-form-field *ngIf="step === 3" type="select" [control]="form.controls.mentalHealthRate" (nextStepEvent)="handleNewInfo($event)" [selectOptions]="goodPooroptions"></app-form-field>
      <app-form-field *ngIf="step === 4" type="select" [control]="form.controls.physicalHealth" (nextStepEvent)="handleNewInfo($event)" [selectOptions]="goodPooroptions"></app-form-field>
      <app-form-field *ngIf="step === 5" type="select" [control]="form.controls.financialState" (nextStepEvent)="handleNewInfo($event)" [selectOptions]="goodPooroptions"></app-form-field>
      <app-form-field *ngIf="step === 6" type="select" [control]="form.controls.eatingHabit" (nextStepEvent)="handleNewInfo($event)" [selectOptions]="goodPooroptions"></app-form-field>
      <app-form-field *ngIf="step === 7" type="select" [control]="form.controls.sleepCondition" (nextStepEvent)="handleNewInfo($event)" [selectOptions]="sleeping"></app-form-field>
      <app-form-field *ngIf="step === 8" type="select" [control]="form.controls.language" (nextStepEvent)="handleNewInfo($event)" [selectOptions]="preferredLanguage"></app-form-field>
      <app-form-field *ngIf="step === 9" type="select" [control]="form.controls.therapyExpreience" (nextStepEvent)="handleNewInfo($event)" [selectOptions]="yesnoOptions"></app-form-field>
      <app-form-field *ngIf="step === 10" type="select" [control]="form.controls.typeOfTherapy" (nextStepEvent)="handleNewInfo($event)" [selectOptions]="typeOfTherapyOptions"></app-form-field>
      <app-form-field *ngIf="step === 11" type="select" [control]="form.controls.therapistPreference" (nextStepEvent)="handleNewInfo($event)" [selectOptions]="preferredTherapist"></app-form-field>
      <app-form-field *ngIf="step === 12" type="select" [control]="form.controls.traumaExperience" (nextStepEvent)="handleNewInfo($event)" [selectOptions]="yesnoOptions"></app-form-field>
      <app-form-field *ngIf="step === 13" type="email" [control]="form.controls.email" (nextStepEvent)="handleNewInfo($event)"></app-form-field>
        

      <div class="submit-container">
        <button *ngIf="step === 14" mat-raised-button color="accent" (click)="handleCalendly()">Open calendly.</button>
      </div>
      <div class="submit-container">
        <button *ngIf="step === 15" mat-raised-button color="accent" (click)="handleSubmit()">Submit</button>
      </div>
    </div>
  </div>
  